{% extends 'layout.html' %}

{% block stylesheet %}
<link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
<script defer src="https://pyscript.net/latest/pyscript.js"></script>
<py-config type="json">
  {
    "packages": ["./static/wheels/ortools-9.5.2237-cp310-cp310-win_amd64.whl"]
  }
</py-config>
<py-env>

    - paths:
        - ./static/py/hw3.py
</py-env>
{% endblock %}
 
{% block content %}
    <div>
        <h1>Ortools</h1>
        <hr>
        <h5>입력</<h5>
        <div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div><div style="line-height:130%">63</div><div style="line-height:130%">64</div><div style="line-height:130%">65</div><div style="line-height:130%">66</div><div style="line-height:130%">67</div><div style="line-height:130%">68</div><div style="line-height:130%">69</div><div style="line-height:130%">70</div><div style="line-height:130%">71</div><div style="line-height:130%">72</div><div style="line-height:130%">73</div><div style="line-height:130%">74</div><div style="line-height:130%">75</div><div style="line-height:130%">76</div><div style="line-height:130%">77</div><div style="line-height:130%">78</div><div style="line-height:130%">79</div><div style="line-height:130%">80</div><div style="line-height:130%">81</div><div style="line-height:130%">82</div><div style="line-height:130%">83</div><div style="line-height:130%">84</div><div style="line-height:130%">85</div><div style="line-height:130%">86</div><div style="line-height:130%">87</div><div style="line-height:130%">88</div><div style="line-height:130%">89</div><div style="line-height:130%">90</div><div style="line-height:130%">91</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#Week09:&nbsp;Weekly&nbsp;HW</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">from</span>&nbsp;ortools.linear_solver&nbsp;<span style="color:#a71d5d">import</span>&nbsp;pywraplp</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">import</span>&nbsp;pandas&nbsp;<span style="color:#a71d5d">as</span>&nbsp;pd</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">def</span>&nbsp;main():</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#63a35c">''</span><span style="color:#63a35c">'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;soler&nbsp;1.&nbsp;Import&nbsp;External&nbsp;datasets&nbsp;from&nbsp;csv&nbsp;files</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;data1.csv,&nbsp;data2.csv&nbsp;사용을&nbsp;위해&nbsp;drive에&nbsp;저장&nbsp;후&nbsp;마운트,&nbsp;그&nbsp;후&nbsp;pandas&nbsp;lib&nbsp;을&nbsp;활용해&nbsp;list&nbsp;형태로&nbsp;저장</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;'</span><span style="color:#63a35c">''</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;dt1&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;pd.read_csv(<span style="color:#63a35c">"data1.csv"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;dt2&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;pd.read_csv(<span style="color:#63a35c">"data2.csv"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Instantiate&nbsp;the&nbsp;data&nbsp;problem.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Vitamin,&nbsp;unit,&nbsp;Daily&nbsp;Recommended&nbsp;Intake</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;nutrients&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;[]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;i&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#066de2">range</span>(<span style="color:#0099cc">0</span>,&nbsp;<span style="color:#066de2">len</span>(dt1.index)):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nutrients.append([dt1.loc[i][<span style="color:#0099cc">0</span>],&nbsp;dt1.loc[i][<span style="color:#0099cc">2</span>]])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Food,&nbsp;Vitamin&nbsp;A&nbsp;(KIU),&nbsp;Vitamin&nbsp;C&nbsp;(mg),&nbsp;price</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;[]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;i&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#066de2">range</span>(<span style="color:#0099cc">0</span>,&nbsp;<span style="color:#066de2">len</span>(dt2.index)):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data.append([dt2.loc[i][<span style="color:#0099cc">0</span>],&nbsp;dt2.loc[i][<span style="color:#0099cc">1</span>],dt2.loc[i][<span style="color:#0099cc">2</span>],&nbsp;dt2.loc[i][<span style="color:#0099cc">3</span>]])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Instantiate&nbsp;a&nbsp;Glop&nbsp;solver&nbsp;and&nbsp;naming&nbsp;it.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;solver&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;pywraplp.Solver.CreateSolver(<span style="color:#63a35c">'GLOP'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;<span style="color:#a71d5d">not</span>&nbsp;solver:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">return</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Declare&nbsp;an&nbsp;array&nbsp;to&nbsp;hold&nbsp;our&nbsp;variables.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;foods&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;[solver.NumVar(<span style="color:#0099cc">0.</span><span style="color:#0099cc">0</span>,&nbsp;solver.infinity(),&nbsp;item[<span style="color:#0099cc">0</span>])&nbsp;<span style="color:#a71d5d">for</span>&nbsp;item&nbsp;<span style="color:#a71d5d">in</span>&nbsp;data]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'Number&nbsp;of&nbsp;variables&nbsp;='</span>,&nbsp;solver.NumVariables())</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#63a35c">''</span><span style="color:#63a35c">'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;soler&nbsp;2.&nbsp;Represent&nbsp;the&nbsp;code&nbsp;for&nbsp;constraints&nbsp;by&nbsp;using&nbsp;the&nbsp;Add&nbsp;function&nbsp;and&nbsp;the&nbsp;For&nbsp;loops.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;제약&nbsp;조건을&nbsp;for&nbsp;반복문을&nbsp;활용하여&nbsp;Add함수를&nbsp;활용해&nbsp;설정</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;'</span><span style="color:#63a35c">''</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Create&nbsp;the&nbsp;constraints,&nbsp;one&nbsp;per&nbsp;nutrient.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;i&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#066de2">range</span>(<span style="color:#0099cc">0</span>,&nbsp;<span style="color:#066de2">len</span>(nutrients)):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ct&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;j&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#066de2">range</span>(<span style="color:#0099cc">0</span>,&nbsp;<span style="color:#066de2">len</span>(data)):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ct&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;data[j][i<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span><span style="color:#0099cc">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">*</span>&nbsp;foods[j]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solver.Add(ct&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;nutrients[i][<span style="color:#0099cc">1</span>])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'Number&nbsp;of&nbsp;constraints&nbsp;='</span>,&nbsp;solver.NumConstraints())</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#63a35c">''</span><span style="color:#63a35c">'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;soler&nbsp;3.&nbsp;Represent&nbsp;the&nbsp;code&nbsp;for&nbsp;the&nbsp;objective&nbsp;function&nbsp;by&nbsp;using&nbsp;the&nbsp;Minimize&nbsp;function&nbsp;and&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;For&nbsp;loop</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;objective함수를&nbsp;for&nbsp;반복문을&nbsp;활용하여&nbsp;Minimize&nbsp;함수를&nbsp;활용해&nbsp;설정</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#63a35c">&nbsp;&nbsp;&nbsp;&nbsp;'</span><span style="color:#63a35c">''</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;#&nbsp;Objective&nbsp;function:&nbsp;Minimize&nbsp;the&nbsp;sum&nbsp;of&nbsp;(price-normalized)&nbsp;foods.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;obj&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;j&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#066de2">range</span>(<span style="color:#0099cc">0</span>,&nbsp;<span style="color:#066de2">len</span>(data)):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obj&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;data[j][<span style="color:#0099cc">3</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">*</span>&nbsp;foods[j]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;solver.Minimize(obj)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;status&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;solver.Solve()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Check&nbsp;that&nbsp;the&nbsp;problem&nbsp;has&nbsp;an&nbsp;optimal&nbsp;solution.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;status&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">!</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;solver.OPTIMAL:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'The&nbsp;problem&nbsp;does&nbsp;not&nbsp;have&nbsp;an&nbsp;optimal&nbsp;solution!'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;status&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;solver.FEASIBLE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'A&nbsp;potentially&nbsp;suboptimal&nbsp;solution&nbsp;was&nbsp;found.'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">else</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'The&nbsp;solver&nbsp;could&nbsp;not&nbsp;solve&nbsp;the&nbsp;problem.'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(<span style="color:#0099cc">1</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">#&nbsp;Display&nbsp;the&nbsp;amounts&nbsp;(in&nbsp;dollars)&nbsp;to&nbsp;purchase&nbsp;of&nbsp;each&nbsp;food.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;nutrients_result&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;[<span style="color:#0099cc">0</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">*</span>&nbsp;<span style="color:#066de2">len</span>(nutrients)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'\nAnnual&nbsp;Foods:'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;i,&nbsp;food&nbsp;<span style="color:#a71d5d">in</span>&nbsp;enumerate(foods):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;food.solution_value()&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#0099cc">0.</span><span style="color:#0099cc">0</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'{}:&nbsp;${}'</span>.<span style="color:#066de2">format</span>(data[i][<span style="color:#0099cc">0</span>],&nbsp;<span style="color:#0099cc">365.</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">*</span>&nbsp;food.solution_value()))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;j,&nbsp;_&nbsp;<span style="color:#a71d5d">in</span>&nbsp;enumerate(nutrients):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nutrients_result[j]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;data[i][j&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span>&nbsp;<span style="color:#0099cc">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">*</span>&nbsp;food.solution_value()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(f<span style="color:#63a35c">'\nObjective&nbsp;Value:&nbsp;${solver.Objective().Value()}'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'\nOptimal&nbsp;annual&nbsp;price:&nbsp;${:.4f}'</span>.<span style="color:#066de2">format</span>(<span style="color:#0099cc">365.</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">*</span>&nbsp;solver.Objective().Value()))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'\nNutrients&nbsp;per&nbsp;day:'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;i,&nbsp;nutrient&nbsp;<span style="color:#a71d5d">in</span>&nbsp;enumerate(nutrients):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'{}:&nbsp;{:.2f}&nbsp;(min&nbsp;{})'</span>.<span style="color:#066de2">format</span>(nutrient[<span style="color:#0099cc">0</span>],&nbsp;nutrients_result[i],</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nutrient[<span style="color:#0099cc">1</span>]))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'\nAdvanced&nbsp;usage:'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'Problem&nbsp;solved&nbsp;in&nbsp;'</span>,&nbsp;solver.wall_time(),&nbsp;<span style="color:#63a35c">'&nbsp;milliseconds'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">print</span>(<span style="color:#63a35c">'Problem&nbsp;solved&nbsp;in&nbsp;'</span>,&nbsp;solver.iterations(),&nbsp;<span style="color:#63a35c">'&nbsp;iterations'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">if</span>&nbsp;__name__&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">'__main__'</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;main()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
        <py-script>
            from ortools.linear_solver import pywraplp
            solver = pywraplp.Solver.CreateSolver('SCIP') # 정수 SCIP

            # data  /   안써도 되지만 그냥 편의상 사용용
            costs = [ 
                [],
                ["80-grade-gasoline",0,0,0,0,0,0,0,0,0], #1 / 80-grade-gasoline
                ["90-grade-gasoline",0,0,0,0,0,0,0,0,0], #2 / 90-grade-gasoline
                ["93-grade-gasoline",0,0,0,0,0,0,0,0,0], #3 / 93-grade-gasoline
                ["diesel",0,0,0,0,0,0,0,0,0], #4 / diesel
                ["engineoil",0,0,0,0,0,0,0,0,0], #5 / engineoil
            ]

            capacity = [0, 500, 400, 400, 600, 600, 900, 800, 800, 800]
            minimize_quantity = [0,1200, 700, 1000, 450, 1200]

            num_products = len(costs)
            num_tanks = len(costs[1])

            # Decision variables
            x = {} 
            for i in range(1, num_products):
                for j in range(1, num_tanks):
                    x[i, j] = solver.IntVar(0,1, '')

            print('\n\nNumber of variables = ', solver.NumVariables())

            # constraint1. 1 탱크에는 1 종류의 오일만만 들어갈 것
            for j in range(1, num_tanks):
                tmp = []
                for i in range(1, num_products):
                    tmp.append(x[i,j])
                solver.Add(solver.Sum(tmp) <= 1)

            # constraint2. 표와 동일하게 이미 채워져 있는 탱크들 제약추가
            solver.Add(x[1,2] == 1)     # 80-grade-gasoline in Tank No.2
            solver.Add(x[5,7] == 1)     # engineoil in Tank No.7

            # constraint3. 각 오일들이 필요할것이라고 예상 되는 값보다 많아야한다.
            for i in range(1, num_products):
                tmp = []
                for j in range(1, num_tanks):
                    tmp.append(capacity[j] * x[i,j])
                solver.Add(solver.Sum(tmp) >= minimize_quantity[i])     # minimize_quantity = [0,1200, 700, 1000, 450, 1200]

            print('Number of constraints = ', solver.NumConstraints())

            # Objective
            objective_costs = []
            for i in range(1, num_products):
                for j in range(1, num_tanks):
                    objective_costs.append(x[i,j])
            solver.Minimize(solver.Sum(objective_costs))

            # Solve
            status = solver.Solve()

            # Print Solution
            if status == pywraplp.Solver.OPTIMAL or status == pywraplp.Solver.FEASIBLE:
                print('\n\nSolution:')
                print(f'Minimal number of tanks = {solver.Objective().Value()}\n')
                for i in range(1, num_products):
                    print(f'{costs[i][0]} assigned to', end = '')
                    for j in range(1, num_tanks):
                        if x[i,j].solution_value() > 0.5:
                                print(f' tank {j}', end = '')
                    print('.')
            else:
                print('The problem does not have an optimal solution.')
        </py-script>
        <hr style="border-top-width: 5px;border-bottom-width: 5px;">
    <div>
    
    
{% endblock %}